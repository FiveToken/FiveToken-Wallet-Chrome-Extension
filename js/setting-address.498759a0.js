!function(t){function e(e){for(var a,n,r=e[0],c=e[1],o=e[2],u=0,p=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(l&&l(e);p.length;)p.shift()();return d.push.apply(d,o||[]),s()}function s(){for(var t,e=0;e<d.length;e++){for(var s=d[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(a=!1)}a&&(d.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={"setting-address":0},d=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=(c=window.webpackJsonp=window.webpackJsonp||[]).push.bind(c);c.push=e;for(var c=c.slice(),o=0;o<c.length;o++)e(c[o]);var l=r;d.push([31,"chunk-vendors","chunk-common"]),s()}({2050:function(t,e,s){"use strict";s("dda2")},31:function(t,e,s){t.exports=s("70ae")},"4b86":function(t,e,s){},"4db6":function(t,e,s){"use strict";s("a0ae")},"70ae":function(t,e,s){"use strict";s.r(e),s("0fae");var a=s("9e2f"),i=s.n(a),d=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2b0e")),n=s("1da1"),r=(s("96cf"),s("4de4"),{data:function(){return{listType:"last-book",addressRecordLast:[],addressBook:[],accountList:[]}},props:{pageType:String},filters:{addressFormat:function(t){return 12<t.length?t.substr(0,6)+"..."+t.substr(t.length-6,6):t}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.filecoinwalletDb.activeAccount.where({kunyao:"kunyao"}).toArray();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return a=e.t0,s=a.length&&a[0].address,e.next=9,window.filecoinwalletDb.addressRecordLast.where({kunyao:"kunyao"}).toArray();case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1=[];case 12:return a=e.t1,t.addressRecordLast=a.filter((function(t){return t.address===s})),e.next=16,window.filecoinwalletDb.addressBook.where({kunyao:"kunyao"}).toArray();case 16:if(e.t2=e.sent,e.t2){e.next=19;break}e.t2=[];case 19:return i=e.t2,t.addressBook=i,e.next=23,window.filecoinwalletDb.accountList.where({kunyao:"kunyao"}).toArray();case 23:if(e.t3=e.sent,e.t3){e.next=26;break}e.t3=[];case 26:i=e.t3,t.accountList=i;case 28:case"end":return e.stop()}}),e)})))()},methods:{toMyAddress:function(){this.listType="my-account"},backLastBook:function(){this.listType="last-book"},back:function(){window.location.href="./setting.html"},closeSetting:function(){window.location.href="./wallet.html"},addressClick:function(t){this.$emit("addressDetail",t)},addAddress:function(){this.$emit("update:pageType","add")}}}),c=(e=(s("4db6"),s("2877")),a=Object(e.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address-list"},["my-account"!==t.listType?s("div",{staticClass:"back"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}}),s("span",[t._v(t._s(t.$t("settingAddress.addressBook")))]),s("i",{staticClass:"el-icon-close",on:{click:t.closeSetting}})]):t._e(),"my-account"!==t.listType?s("div",{staticClass:"address-tips",on:{click:t.toMyAddress}},[s("div",{staticClass:"c-top"},[t._v(t._s(t.$t("settingAddress.myWallet")))]),s("div",{staticClass:"c-bottom"},[t._v(t._s(t.$t("settingAddress.autoAdd")))]),t._m(0)]):t._e(),"my-account"===t.listType?s("div",{staticClass:"my-account"},[s("div",{staticClass:"back-last-book",on:{click:t.backLastBook}},[s("i",{staticClass:"el-icon-arrow-left"}),s("span",[t._v(t._s(t.$t("settingAddress.myWallet")))])]),t._l(t.accountList,(function(e,a){return s("div",{key:a,staticClass:"address-item"},[s("div",{staticClass:"addrname"},[t._v(t._s(e.accountName))]),s("div",{staticClass:"addr"},[t._v(t._s(e.address))])])}))],2):s("div",{staticClass:"last-book"},[t.addressRecordLast.length?s("div",{staticClass:"last-name"},[t._v(t._s(t.$t("settingAddress.lastRecord")))]):t._e(),t.addressRecordLast.length?s("div",{staticClass:"last-list"},t._l(t.addressRecordLast,(function(e,a){return s("div",{key:a,staticClass:"address-item",on:{click:function(s){return t.addressClick(e)}}},[s("div",{staticClass:"addr"},[t._v(t._s(e.address))]),t._m(1,!0)])})),0):t._e(),t.addressBook.length?s("div",{staticClass:"book-name"},[t._v(t._s(t.$t("settingAddress.addressBook")))]):t._e(),t.addressBook.length?s("div",{staticClass:"book-list"},t._l(t.addressBook,(function(e,a){return s("div",{key:a,staticClass:"address-item",on:{click:function(s){return t.addressClick(e)}}},[s("div",{staticClass:"addr"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"add"},[t._v(t._s(e.address))])]),t._m(2,!0)])})),0):t._e()]),"my-account"!==t.listType?s("div",{staticClass:"position"},[s("div",{staticClass:"add-btn"},[s("el-button",{attrs:{type:"primary"},on:{click:t.addAddress}},[t._v(t._s(t.$t("settingAddress.add")))])],1)]):t._e()])}),[function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"close"},[t("i",{staticClass:"el-icon-arrow-right"})])},function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"a-right"},[t("i",{staticClass:"el-icon-arrow-right"})])},function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"a-right"},[t("i",{staticClass:"el-icon-arrow-right"})])}],!1,null,"7ffe12cf",null).exports,s("07ac"),s("b0c0"),s("ed08")),o=(r=s("b311"),s.n(r)),l=(r={data:function(){return{add:{name:"",address:""},detail:{name:"",address:""},edit:{name:"",address:""},editAddressError:"",addAddressError:""}},props:{pageType:String,detailObj:Object,to:String},computed:{pageName:function(){var t="";switch(this.pageType){case"add":t=this.$t("settingAddress.addAddress");break;case"detail":t=this.$t("settingAddress.addressDetail");break;case"edit":t=this.$t("settingAddress.editAddress")}return t},addDisabled:function(){var t=Object.values(this.add);return!t.every((function(t){return""!==t}))},editDisabled:function(){return!Object.values(this.edit).every((function(t){return""!==t}))}},watch:{detailObj:{handler:function(t,e){},immediate:!0}},filters:{addressFormat:function(t){return 12<t.length?t.substr(0,6)+"..."+t.substr(t.length-6,6):t}},mounted:function(){var t,e;"detail"===this.pageType&&(t=(e=this.detailObj).name,e=e.address,this.detail=Object.assign({},this.detail,{name:t,address:e})),"add"===this.pageType&&this.to&&this.$set(this.add,"address",this.to)},methods:{addAddressInput:function(){var t=Object(c.f)(this.add.address);this.addAddressError=t?"":"1"},editAddressInput:function(){var t=Object(c.f)(this.edit.address);this.editAddressError=t?"":"1"},toList:function(){this.addressList=!0},cancelAdd:function(){this.$emit("update:pageType","list")},back:function(){this.$emit("update:pageType","list")},addConfirm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(c.f)(t.add.address))return s=parseInt((new Date).getTime()/1e3),e.next=5,window.filecoinwalletDb.addressBook.add({address:t.add.address,name:t.add.name,create_time:s,kunyao:"kunyao"});e.next=8;break;case 5:t.$emit("update:pageType","list"),e.next=9;break;case 8:t.$message.error(t.$t("settingAddress.addressError"));case 9:case"end":return e.stop()}}),e)})))()},editAddress:function(){var t=this.detailObj,e=t.name;t=t.address;this.edit=Object.assign({},this.edit,{name:e,address:t}),this.$emit("update:pageType","edit")},copyAddress:function(){var t=this,e=new o.a(".copy-box");e.on("success",(function(e){t.$message.success(t.$t("settingAddress.copySuccess"))})),e.on("error",(function(t){}))},close:function(){this.$emit("update:pageType","list")},cancelEdit:function(){this.$emit("update:pageType","detail")},confirmEdit:function(){var t=this;window.filecoinwalletDb.addressBook.where("address").equals(this.detail.address).modify({address:this.edit.address,name:this.edit.name}).then((function(e){t.detail=Object.assign({},t.detail,{name:t.edit.name,address:t.edit.address}),t.$message.success(t.$t("settingAddress.editSuccess")),t.$emit("update:pageType","detail")}))}}},r=(s("2050"),{data:function(){return{pageType:"list",detailObj:null,to:""}},components:{addressList:a,addressFrom:Object(e.a)(r,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",{staticClass:"address-form"},[e("div",{staticClass:"form-top"},[e("div",{staticClass:"back-s",on:{click:t.back}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("div",{staticClass:"top-name"},[t._v(t._s(t.pageName))]),"list"===t.pageType?e("div",{staticClass:"close",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]):t._e()]),e("div",{staticClass:"form-content"},["add"===t.pageType?e("div",{staticClass:"add-content"},[e("div",{staticClass:"input-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("settingAddress.name")))]),e("el-input",{model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}})],1),e("div",{staticClass:"input-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("settingAddress.filAddress")))]),e("el-input",{attrs:{placeholder:t.$t("settingAddress.placeholder")},on:{input:t.addAddressInput},model:{value:t.add.address,callback:function(e){t.$set(t.add,"address",e)},expression:"add.address"}}),t.addAddressError?e("div",{staticClass:"error"},[t._v(t._s(t.$t("settingAddress.addressError")))]):t._e()],1),e("div",{staticClass:"position"},[e("div",{staticClass:"btn-box"},[e("el-button",{on:{click:t.cancelAdd}},[t._v(t._s(t.$t("settingAddress.cancel")))]),e("el-button",{attrs:{type:"primary",disabled:t.addDisabled},on:{click:t.addConfirm}},[t._v(t._s(t.$t("settingAddress.confirm")))])],1)])]):t._e(),"detail"===t.pageType?e("div",{staticClass:"detail-content"},[e("div",{staticClass:"yt"},[t._v(t._s(t.$t("settingAddress.filAddress")))]),e("div",{staticClass:"v-c copy-box",attrs:{"data-clipboard-text":t.detail.address},on:{click:t.copyAddress}},[e("div",{staticClass:"value"},[t._v(t._s(t._f("addressFormat")(t.detail.address)))]),t._m(0)]),e("div",{staticClass:"notes"},[t._v(t._s(t.$t("settingAddress.name")))]),e("div",{staticClass:"notes-value"},[t._v(t._s(t.detail.name))]),e("div",{staticClass:"position"},[e("div",{staticClass:"edit-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.editAddress}},[t._v(t._s(t.$t("settingAddress.edit")))])],1)])]):t._e(),"edit"===t.pageType?e("div",{staticClass:"edit-content"},[e("div",{staticClass:"input-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("settingAddress.name")))]),e("el-input",{model:{value:t.edit.name,callback:function(e){t.$set(t.edit,"name",e)},expression:"edit.name"}})],1),e("div",{staticClass:"input-item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("settingAddress.filAddress")))]),e("el-input",{on:{input:t.editAddressInput},model:{value:t.edit.address,callback:function(e){t.$set(t.edit,"address",e)},expression:"edit.address"}}),t.editAddressError?e("div",{staticClass:"error"},[t._v(t._s(t.$t("settingAddress.addressError")))]):t._e()],1),e("div",{staticClass:"position"},[e("div",{staticClass:"btn-box"},[e("el-button",{on:{click:t.cancelEdit}},[t._v(t._s(t.$t("settingAddress.cancel")))]),e("el-button",{attrs:{type:"primary",disabled:t.editDisabled},on:{click:t.confirmEdit}},[t._v(t._s(t.$t("settingAddress.confirm")))])],1)])]):t._e()])])}),[function(){var t=this.$createElement;t=this._self._c||t;return t("div",{staticClass:"copy"},[t("i",{staticClass:"el-icon-document-copy"})])}],!1,null,"1c1edb8d",null).exports},mounted:function(){var t=Object(c.e)("to");t&&(this.to=t,this.pageType="add")},methods:{addressDetail:function(t){this.pageType="detail",this.detailObj=t}}}),s("e128"),Object(e.a)(r,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",{staticClass:"setting-address"},[e("div",{staticClass:"address-content"},["list"===t.pageType?e("addressList",{attrs:{pageType:t.pageType},on:{"update:pageType":function(e){t.pageType=e},"update:page-type":function(e){t.pageType=e},addressDetail:t.addressDetail}}):e("addressFrom",{attrs:{pageType:t.pageType,detailObj:t.detailObj,to:t.to},on:{"update:pageType":function(e){t.pageType=e},"update:page-type":function(e){t.pageType=e}}})],1)])}),[],!1,null,"05d1ca2e",null).exports);e=s("12cb"),r=s("a18c"),s=s("4360");d.default.use(i.a),d.default.component("pageComponent",l),new d.default({el:"#app",i18n:e.a,router:r.a,store:s.a,render:function(t){return t(l)}})},a0ae:function(t,e,s){},dda2:function(t,e,s){},e128:function(t,e,s){"use strict";s("4b86")}});